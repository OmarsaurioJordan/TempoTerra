[gd_scene load_steps=26 format=3 uid="uid://bpojco5r5hcmg"]

[ext_resource type="Texture2D" uid="uid://cfgisrc24cg16" path="res://Sprites/Entes/d_player_strip4.png" id="1_83mts"]
[ext_resource type="Script" uid="uid://ojl0shbngmss" path="res://Scripts/Entes/player.gd" id="1_c234k"]
[ext_resource type="Texture2D" uid="uid://dunep3yumw4lg" path="res://Sprites/Entes/d_golpe_strip2.png" id="1_knad1"]
[ext_resource type="Texture2D" uid="uid://dfwko0hgjqi1x" path="res://Sprites/Entes/d_sombraselect_strip2.png" id="2_8uc8b"]
[ext_resource type="Texture2D" uid="uid://dxy3eeidmweif" path="res://Sprites/Entes/d_escudo_strip22.png" id="2_knad1"]
[ext_resource type="Script" uid="uid://bw16pwdyolf8e" path="res://Scripts/Tools/imagen.gd" id="2_rn4bi"]
[ext_resource type="Texture2D" uid="uid://cl74su0pkyhdh" path="res://Sprites/Entes/d_distancia_strip10.png" id="4_rn4bi"]
[ext_resource type="Texture2D" uid="uid://dd0nvr88qpjmr" path="res://Sprites/Entes/d_secundaria_strip3.png" id="5_qm2yj"]
[ext_resource type="Texture2D" uid="uid://dkubspuc1unir" path="res://Sprites/Entes/d_mele_strip22.png" id="6_8uc8b"]
[ext_resource type="Texture2D" uid="uid://cirkjvs0fqm6" path="res://Sprites/Entes/d_charla.png" id="9_rwnlw"]
[ext_resource type="FontFile" uid="uid://dfhfupgu7dfr2" path="res://Sprites/General/comic_sana.ttf" id="10_c0fv2"]
[ext_resource type="Texture2D" uid="uid://6bqsar1cny0y" path="res://Sprites/Entes/d_charlita.png" id="14_qm2yj"]

[sub_resource type="CircleShape2D" id="CircleShape2D_bjll6"]
radius = 26.4764

[sub_resource type="CircleShape2D" id="CircleShape2D_qm2yj"]
radius = 36.3456

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_n3j5c"]

[sub_resource type="Animation" id="Animation_it582"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Arma:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Arma:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("GolpeA:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("GolpeB:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Distancia:skew")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Distancia:scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Municion:scale")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Secundaria:scale")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Secundaria:self_modulate")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_ev13i"]
resource_name = "hit"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Arma:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.3, 0.533333, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.3, 1.3), Vector2(1, 1), Vector2(0.7, 0.7), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Arma:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.366667, 0.533333, 0.7, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("GolpeA:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [false, true, false, false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("GolpeB:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [false, true, false, false]
}

[sub_resource type="Animation" id="Animation_pr3kn"]
resource_name = "lanza"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Secundaria:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 0.7),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.3, 1.3), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Secundaria:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.233333, 0.4, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_203qf"]
resource_name = "recharge"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Distancia:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(0.7, 0.7), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Municion:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.3, 1.3), Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_gpjr2"]
resource_name = "reload"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Distancia:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(0.7, 0.7), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Municion:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.3, 1.3), Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_6e6mr"]
resource_name = "shot"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Distancia:skew")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.233333, 0.366667, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, -0.174533, 0.0, 0.174533, 0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6e6mr"]
_data = {
&"RESET": SubResource("Animation_it582"),
&"hit": SubResource("Animation_ev13i"),
&"lanza": SubResource("Animation_pr3kn"),
&"recharge": SubResource("Animation_203qf"),
&"reload": SubResource("Animation_gpjr2"),
&"shot": SubResource("Animation_6e6mr")
}

[sub_resource type="Animation" id="Animation_235dx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_8uc8b"]
resource_name = "hit"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 0.631373, 0.631373, 1), Color(1, 0.631373, 0.631373, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_weq60"]
_data = {
&"RESET": SubResource("Animation_235dx"),
&"hit": SubResource("Animation_8uc8b")
}

[node name="Player" type="CharacterBody2D" groups=["entes", "humans", "players", "warrioplayers"]]
collision_layer = 8
collision_mask = 15
motion_mode = 1
wall_min_slide_angle = 0.174533
platform_on_leave = 2
safe_margin = 3.0
script = ExtResource("1_c234k")
metadata/_edit_lock_ = true

[node name="Coli" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_bjll6")
metadata/_edit_lock_ = true

[node name="AreaTab" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 32
monitorable = false
metadata/_edit_lock_ = true

[node name="Coli" type="CollisionShape2D" parent="AreaTab"]
shape = SubResource("CircleShape2D_qm2yj")
debug_color = Color(0.528905, 0.57153, 1.92523e-07, 0.42)
metadata/_edit_lock_ = true

[node name="Sombra" type="Sprite2D" parent="."]
position = Vector2(0, 7)
scale = Vector2(1.5, 1.5)
texture = ExtResource("2_8uc8b")
hframes = 2
metadata/_edit_lock_ = true

[node name="Imagen" type="Node2D" parent="."]
script = ExtResource("2_rn4bi")
name_nodos_respiran = Array[String](["Cuerpo", "Cabeza", "Escudo", "Municion", "Secundaria", "Arma", "Distancia"])
metadata/_edit_lock_ = true

[node name="GolpeA" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(-3, -110)
scale = Vector2(1.2, 1.2)
texture = ExtResource("1_knad1")
hframes = 2
metadata/_edit_lock_ = true

[node name="PieD" type="Sprite2D" parent="Imagen"]
position = Vector2(13.8, -56.6)
scale = Vector2(0.8, 0.8)
texture = ExtResource("1_83mts")
flip_h = true
hframes = 4
frame = 2
metadata/_edit_lock_ = true

[node name="PieI" type="Sprite2D" parent="Imagen"]
position = Vector2(-13.2, -56.6)
scale = Vector2(0.8, 0.8)
texture = ExtResource("1_83mts")
hframes = 4
frame = 2
metadata/_edit_lock_ = true

[node name="Cuerpo" type="Sprite2D" parent="Imagen"]
position = Vector2(2, -124)
texture = ExtResource("1_83mts")
hframes = 4
frame = 1
metadata/_edit_lock_ = true

[node name="Cabeza" type="Sprite2D" parent="Imagen"]
position = Vector2(2, -202)
texture = ExtResource("1_83mts")
hframes = 4
metadata/_edit_lock_ = true

[node name="Escudo" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(-41, -95)
texture = ExtResource("2_knad1")
hframes = 22
metadata/_edit_lock_ = true

[node name="Municion" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(-23, -76)
texture = ExtResource("4_rn4bi")
offset = Vector2(-10, -70)
hframes = 10
frame = 1
metadata/_edit_lock_ = true

[node name="Secundaria" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(-32, -79)
rotation = -0.127409
texture = ExtResource("5_qm2yj")
offset = Vector2(-5, -20)
hframes = 3
metadata/_edit_lock_ = true

[node name="Arma" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(28, -88)
rotation = 0.261799
texture = ExtResource("6_8uc8b")
offset = Vector2(20, -55)
hframes = 22
frame = 1
metadata/_edit_lock_ = true

[node name="Distancia" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(50, -78)
texture = ExtResource("4_rn4bi")
offset = Vector2(-10, -70)
hframes = 10
metadata/_edit_lock_ = true

[node name="GolpeB" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(-3, -110)
scale = Vector2(1.2, 1.2)
texture = ExtResource("1_knad1")
hframes = 2
frame = 1
metadata/_edit_lock_ = true

[node name="Charla" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(-12, -170)
scale = Vector2(0.75, 0.75)
texture = ExtResource("9_rwnlw")
offset = Vector2(8, -130)
metadata/_edit_lock_ = true

[node name="Texto" type="Label" parent="Imagen/Charla"]
offset_left = -223.0
offset_top = -267.0
offset_right = 233.0
offset_bottom = -44.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_constants/line_spacing = 0
theme_override_fonts/font = ExtResource("10_c0fv2")
theme_override_font_sizes/font_size = 24
theme_override_styles/normal = SubResource("StyleBoxEmpty_n3j5c")
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 3
clip_text = true
metadata/_edit_lock_ = true

[node name="Charlita" type="Sprite2D" parent="Imagen"]
visible = false
position = Vector2(12, -168)
scale = Vector2(0.5, 0.509)
texture = ExtResource("14_qm2yj")
offset = Vector2(8, -130)
metadata/_edit_lock_ = true

[node name="Texto" type="Label" parent="Imagen/Charlita"]
offset_left = -136.0
offset_top = -157.171
offset_right = 116.0
offset_bottom = -36.1709
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_constants/line_spacing = 0
theme_override_fonts/font = ExtResource("10_c0fv2")
theme_override_font_sizes/font_size = 72
theme_override_styles/normal = SubResource("StyleBoxEmpty_n3j5c")
text = "Tab"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 3
clip_text = true
metadata/_edit_lock_ = true

[node name="Anima" type="AnimationPlayer" parent="Imagen"]
libraries = {
&"": SubResource("AnimationLibrary_6e6mr")
}
speed_scale = 0.75

[node name="Hit" type="AnimationPlayer" parent="Imagen"]
libraries = {
&"": SubResource("AnimationLibrary_weq60")
}
speed_scale = 1.2

[node name="Camara" type="Camera2D" parent="."]
offset = Vector2(0, -110)
zoom = Vector2(0.8, 0.8)
position_smoothing_enabled = true
metadata/_edit_lock_ = true

[node name="TimPausa" type="Timer" parent="."]
wait_time = 1.5
one_shot = true

[node name="Shots" type="Node" parent="."]

[node name="TimShotDistance" type="Timer" parent="Shots"]
one_shot = true

[node name="TimShotEspecial" type="Timer" parent="Shots"]
one_shot = true

[node name="TimShotMele" type="Timer" parent="Shots"]
one_shot = true

[node name="TimShotCargador" type="Timer" parent="Shots"]
one_shot = true

[node name="TimShotGo" type="Timer" parent="Shots"]
wait_time = 0.333
one_shot = true

[connection signal="area_entered" from="AreaTab" to="." method="_on_area_tab_area_entered"]
[connection signal="area_exited" from="AreaTab" to="." method="_on_area_tab_area_exited"]
[connection signal="animation_finished" from="Imagen/Anima" to="." method="_on_anima_animation_finished"]
[connection signal="timeout" from="Shots/TimShotCargador" to="." method="_on_tim_shot_cargador_timeout"]
[connection signal="timeout" from="Shots/TimShotGo" to="." method="_on_tim_shot_go_timeout"]
